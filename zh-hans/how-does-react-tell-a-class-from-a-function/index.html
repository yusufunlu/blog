<!DOCTYPE html><html lang="zh-hans"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/Personal-Blog/2.8bee379ac3150e408f97.css">@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:url(/Personal-Blog/static/merriweather-400-l-8796b7875d52e9cb9b280211e8d3f82d.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:url(/Personal-Blog/static/montserrat-900-l-5751237264c0468be0d48ad1cea75b90.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}body{--pink:#ffa7c4;background-color:var(--bg)}body.light{--bg:#fff;--header:var(--pink);--textNormal:#222;--textTitle:#222;--textLink:#d23669;--hr:rgba(0,0,0,0.2);--inlineCode-bg:rgba(255,229,100,0.2);--inlineCode-text:#1a1a1a}body.dark{-webkit-font-smoothing:antialiased;--bg:#282c35;--header:#fff;--textNormal:hsla(0,0%,100%,0.88);--textTitle:#fff;--textLink:var(--pink);--hr:hsla(0,0%,100%,0.2);--inlineCode-bg:#373c49;--inlineCode-text:#e6e6e6}body:lang(ar) article,body:lang(fa) article{direction:rtl}body:lang(ar) .language-text,body:lang(ar) article .translations,body:lang(ar) article pre,body:lang(fa) .language-text,body:lang(fa) article .translations,body:lang(fa) article pre{direction:ltr}body:lang(ar) .language-text,body:lang(fa) .language-text{display:inline-block}body:lang(ar) blockquote,body:lang(fa) blockquote{border-left:unset;border-right:.32813rem solid rgba(0,0,0,.9);padding-right:1.42188rem;padding-left:unset;margin-left:.75rem;margin-right:-1.75rem}body:lang(fa) article,body:lang(fa) header>h1{font-family:Vazir}body:lang(ar) article,body:lang(ar) header>h1{font-family:Cairo,sans-serif}body:lang(ko) article,body:lang(ko) header{word-break:keep-all}code[class*=language-],pre[class*=language-]{color:#fff;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;-webkit-font-feature-settings:normal;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{overflow:auto;padding:1.3125rem}pre[class*=language-]::selection{background:#27292a}pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,100%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;background:var(--inlineCode-bg);color:var(--inlineCode-text);padding:.15em .2em .05em;white-space:normal}.token.attr-name{color:#addb67;font-style:italic}.token.comment{color:#809393}.token.string,.token.url{color:#addb67}.token.variable{color:#d6deeb}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.punctuation{color:#c792ea}.token.doctype,.token.selector{color:#c792ea;font-style:"italic"}.token.class-name{color:#ffcb8b}.token.keyword,.token.operator,.token.tag{color:#ffa7c4}.token.boolean{color:#ff5874}.token.property{color:#80cbc4}.token.namespace{color:#b2ccd6}pre[data-line]{padding:1em 0 1em 3em;position:relative}.gatsby-highlight-code-line{background-color:#022a4b;display:block;padding-right:1em;padding-left:1.25em;border-left:.25em solid #ffa7c4}.gatsby-highlight,.gatsby-highlight-code-line{margin-right:-1.3125rem;margin-left:-1.3125rem}.gatsby-highlight{margin-bottom:1.75rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto}@media (max-width:672px){.gatsby-highlight{border-radius:0}}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%}.react-toggle{touch-action:pan-x;display:inline-block;position:relative;cursor:pointer;background-color:transparent;border:0;padding:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.react-toggle-screenreader-only{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.react-toggle-track{width:50px;height:24px;padding:0;border-radius:30px;background-color:#0f1114;transition:all .2s ease}.react-toggle-track-check{position:absolute;width:17px;height:17px;left:5px;top:0;bottom:0;margin-top:auto;margin-bottom:auto;line-height:0;opacity:0;transition:opacity .25s ease}.react-toggle--checked .react-toggle-track-check,.react-toggle-track-x{opacity:1;transition:opacity .25s ease}.react-toggle-track-x{position:absolute;width:17px;height:17px;right:5px;top:0;bottom:0;margin-top:auto;margin-bottom:auto;line-height:0}.react-toggle--checked .react-toggle-track-x{opacity:0}.react-toggle-thumb{position:absolute;top:1px;left:1px;width:22px;height:22px;border-radius:50%;background-color:#fafafa;box-sizing:border-box;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;-webkit-transform:translateX(0);transform:translateX(0)}.react-toggle--checked .react-toggle-thumb{-webkit-transform:translateX(26px);transform:translateX(26px);border-color:#19ab27}.react-toggle--focus .react-toggle-thumb{box-shadow:0 0 2px 3px #ffa7c4}.react-toggle:active .react-toggle-thumb{box-shadow:0 0 5px 5px #ffa7c4}</style><style data-href="/Personal-Blog/component---src-templates-blog-post-js.77da55083c18bdb7fbef.css">@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:url(/Personal-Blog/static/merriweather-400-i-l-9a3ea56a5f449980432ace5972181ef6.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:url(/Personal-Blog/static/merriweather-700-l-e24e02bb044cb07539a3a6bd12348d14.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:url(/Personal-Blog/static/merriweather-700-i-l-ad085ede31afcc5585ff34869b1cd029.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}.formkit-form *{box-sizing:border-box}.formkit-form legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table}.formkit-form fieldset{border:0;padding:.01em 0 0;margin:0;min-width:0}.formkit-form body:not(:-moz-handler-blocked) fieldset{display:table-cell}.formkit-form p{color:inherit;font-size:inherit;font-weight:inherit}.formkit-form[data-format="slide in"],.formkit-form[data-format=modal]{display:none}.formkit-form .formkit-checkboxes,.formkit-form .formkit-input,.formkit-form .formkit-select{width:100%}.formkit-form .formkit-button,.formkit-form .formkit-submit{border:0;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;margin-bottom:15px;overflow:hidden;padding:0;position:relative;vertical-align:middle}.formkit-form .formkit-button:focus,.formkit-form .formkit-button:hover,.formkit-form .formkit-submit:focus,.formkit-form .formkit-submit:hover{outline:none}.formkit-form .formkit-button:focus>span,.formkit-form .formkit-button:hover>span,.formkit-form .formkit-submit:focus>span,.formkit-form .formkit-submit:hover>span{background-color:#dc658d}.formkit-form .formkit-button>span,.formkit-form .formkit-submit>span{display:block;transition:all .3s ease-in-out;padding:12px 24px}.formkit-form .formkit-input{background:#fff;font-size:15px;padding:12px;border:1px solid #e3e3e3;flex:1 0 auto;line-height:1.4;margin:0;transition:border-color .3s ease-out}.formkit-form .formkit-input:focus{outline:none;border-color:#1677be;transition:border-color .3s ease}.formkit-form .formkit-input::-webkit-input-placeholder{color:#848585}.formkit-form .formkit-input:-ms-input-placeholder{color:#848585}.formkit-form .formkit-input::-ms-input-placeholder{color:#848585}.formkit-form .formkit-input::placeholder{color:#848585}.formkit-form [data-group=dropdown]{position:relative;display:inline-block;width:100%}.formkit-form [data-group=dropdown]:before{content:"";top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#4f4f4f transparent transparent;border-style:solid;border-width:6px 6px 0;height:0;width:0;z-index:999}.formkit-form [data-group=dropdown] select{height:auto;width:100%;cursor:pointer;color:#333;line-height:1.4;margin-bottom:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px 25px 12px 12px;border:1px solid #e3e3e3;background:#fff}.formkit-form [data-group=dropdown] select:focus{outline:none}.formkit-form [data-group=checkboxes]{text-align:left;margin:0}.formkit-form [data-group=checkboxes] [data-group=checkbox]{margin-bottom:10px}.formkit-form [data-group=checkboxes] [data-group=checkbox] *{cursor:pointer}.formkit-form [data-group=checkboxes] [data-group=checkbox]:last-of-type{margin-bottom:0}.formkit-form [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]{display:none}.formkit-form [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]+label:after{content:none}.formkit-form [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]:checked+label:after{border-color:#fff;content:""}.formkit-form [data-group=checkboxes] [data-group=checkbox] input[type=checkbox]:checked+label:before{background:#10bf7a;border-color:#10bf7a}.formkit-form [data-group=checkboxes] [data-group=checkbox] label{position:relative;display:inline-block;padding-left:28px}.formkit-form [data-group=checkboxes] [data-group=checkbox] label:after,.formkit-form [data-group=checkboxes] [data-group=checkbox] label:before{position:absolute;content:"";display:inline-block}.formkit-form [data-group=checkboxes] [data-group=checkbox] label:before{height:16px;width:16px;border:1px solid #e3e3e3;background:#fff;left:0;top:3px}.formkit-form [data-group=checkboxes] [data-group=checkbox] label:after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px}.formkit-form .formkit-alert{background:#f9fafb;border:1px solid #e3e3e3;border-radius:5px;flex:1 0 auto;list-style:none;margin:25px auto;padding:12px;text-align:center;width:100%}.formkit-form .formkit-alert:empty{display:none}.formkit-form .formkit-alert-success{background:#d3fbeb;border-color:#10bf7a;color:#0c905c}.formkit-form .formkit-alert-error{background:#fde8e2;border-color:#f2643b;color:#ea4110}.formkit-form .formkit-spinner{display:flex;height:0;width:0;margin:0 auto;position:absolute;top:0;left:0;right:0;overflow:hidden;text-align:center;transition:all .3s ease-in-out}.formkit-form .formkit-spinner>div{margin:auto;width:12px;height:12px;background-color:#fff;opacity:.3;border-radius:100%;display:inline-block;-webkit-animation:formkit-bouncedelay-formkit-form-data-uid-4a352cb1fd- 1.4s ease-in-out infinite both;animation:formkit-bouncedelay-formkit-form-data-uid-4a352cb1fd- 1.4s ease-in-out infinite both}.formkit-form .formkit-spinner>div:first-child{-webkit-animation-delay:-.32s;animation-delay:-.32s}.formkit-form .formkit-spinner>div:nth-child(2){-webkit-animation-delay:-.16s;animation-delay:-.16s}.formkit-form .formkit-submit[data-active] .formkit-spinner{opacity:1;height:100%;width:50px}.formkit-form .formkit-submit[data-active] .formkit-spinner~span{opacity:0}@-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-4a352cb1fd-{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes formkit-bouncedelay-formkit-form-data-uid-4a352cb1fd-{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.formkit-form{box-shadow:0 2px 15px 0 rgba(210,214,220,.5);max-width:700px;overflow:hidden}.formkit-form [data-style=full]{width:100%;display:block}.formkit-form .formkit-header{margin-top:0;margin-bottom:20px;font-family:inherit}.formkit-form .formkit-subheader{margin:15px 0}.formkit-form .formkit-column{background-size:cover;background-repeat:no-repeat;background-position:50%;padding:20px}.formkit-form .formkit-column:nth-child(2){border-top:1px solid #e9ecef}.formkit-form .formkit-field{margin:0 0 15px}.formkit-form .formkit-input,.formkit-form .formkit-submit{width:100%}.formkit-form .formkit-guarantee{font-size:13px;margin:0 0 15px}.formkit-form .formkit-guarantee>p{margin:0}.formkit-form .formkit-powered-by{color:#7d7d7d;display:block;font-size:12px;margin-bottom:0;text-align:center}.formkit-form .formkit-powered-by[data-active=false]{opacity:.5}.formkit-form[min-width~="600"] [data-style=full],.formkit-form[min-width~="700"] [data-style=full],.formkit-form[min-width~="800"] [data-style=full]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.formkit-form[min-width~="600"] .formkit-submit,.formkit-form[min-width~="700"] .formkit-submit,.formkit-form[min-width~="800"] .formkit-submit{width:auto}.formkit-form[min-width~="600"] .formkit-column,.formkit-form[min-width~="700"] .formkit-column,.formkit-form[min-width~="800"] .formkit-column{padding:40px}.formkit-form[min-width~="600"] .formkit-column:nth-child(2),.formkit-form[min-width~="700"] .formkit-column:nth-child(2),.formkit-form[min-width~="800"] .formkit-column:nth-child(2){border-top:none}</style><meta name="generator" content="Gatsby 2.0.91"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="Dan Abramov&#x27;s Overreacted Blog RSS Feed" href="/Personal-Blog/rss.xml"/><link rel="shortcut icon" href="/Personal-Blog/icons/icon-48x48.png"/><link rel="manifest" href="/Personal-Blog/manifest.webmanifest"/><title data-react-helmet="true">React å¦‚ä½•åŒºåˆ† Class å’Œ Functionï¼Ÿ â€” Overreacted</title><meta data-react-helmet="true" name="theme-color" content="#282c35"/><meta data-react-helmet="true" name="description" content="æˆ‘ä»¬è°ˆè®ºå…³äºç±»ï¼ˆclassesï¼‰ã€newã€instanceofã€åŸå‹é“¾ï¼ˆprototype chainsï¼‰ã€å’Œ API è®¾è®¡ã€‚"/><meta data-react-helmet="true" property="og:url" content="https://yusufunlu.github.io/Personal-Blog//zh-hans/how-does-react-tell-a-class-from-a-function/"/><meta data-react-helmet="true" property="og:title" content="React å¦‚ä½•åŒºåˆ† Class å’Œ Functionï¼Ÿ"/><meta data-react-helmet="true" property="og:description" content="æˆ‘ä»¬è°ˆè®ºå…³äºç±»ï¼ˆclassesï¼‰ã€newã€instanceofã€åŸå‹é“¾ï¼ˆprototype chainsï¼‰ã€å’Œ API è®¾è®¡ã€‚"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@dan_abramov"/><meta data-react-helmet="true" name="twitter:title" content="React å¦‚ä½•åŒºåˆ† Class å’Œ Functionï¼Ÿ"/><meta data-react-helmet="true" name="twitter:description" content="æˆ‘ä»¬è°ˆè®ºå…³äºç±»ï¼ˆclassesï¼‰ã€newã€instanceofã€åŸå‹é“¾ï¼ˆprototype chainsï¼‰ã€å’Œ API è®¾è®¡ã€‚"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:inherit;font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);border-left-color:inherit;opacity:0.8;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:var(--hr);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"â€” ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:var(--textLink);text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}a.anchor{box-shadow:none;}a.anchor svg[aria-hidden="true"]{stroke:var(--textLink);}p code{font-size:1rem;}h1 code, h2 code, h3 code, h4 code, h5 code, h6 code{font-size:inherit;}li code{font-size:1rem;}blockquote.translation{font-size:1em;}</style><link as="script" rel="preload" href="/Personal-Blog/component---src-templates-blog-post-js-ef2898a2e81c47683f5b.js"/><link as="script" rel="preload" href="/Personal-Blog/app-198cd55e69a6a03b3f73.js"/><link as="script" rel="preload" href="/Personal-Blog/0-b197e8c6c7ff26484233.js"/><link as="script" rel="preload" href="/Personal-Blog/2-469c709c476faea7103a.js"/><link as="script" rel="preload" href="/Personal-Blog/1-1b550cd61a5e170131aa.js"/><link as="script" rel="preload" href="/Personal-Blog/webpack-runtime-27008a620e3aa4105e10.js"/><link as="fetch" rel="preload" href="/Personal-Blog/static/d/26/path---zh-hans-how-does-react-tell-a-class-from-a-function-643-877-i9fNGNLGmy6f3HUq4DB83lZwPlI.json" crossorigin="use-credentials"/></head><body class="light"><script>
              (function() {
                window.__onThemeChange = function() {};
                function setTheme(newTheme) {
                  window.__theme = newTheme;
                  preferredTheme = newTheme;
                  document.body.className = newTheme;
                  window.__onThemeChange(newTheme);
                }

                var preferredTheme;
                try {
                  preferredTheme = localStorage.getItem('theme');
                } catch (err) { }

                window.__setPreferredTheme = function(newTheme) {
                  setTheme(newTheme);
                  try {
                    localStorage.setItem('theme', newTheme);
                  } catch (err) {}
                }

                var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
                darkQuery.addListener(function(e) {
                  window.__setPreferredTheme(e.matches ? 'dark' : 'light')
                });

                setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
              })();
            </script><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="color:var(--textNormal);background:var(--bg);transition:color 0.2s ease-out, background 0.2s ease-out;min-height:100vh"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:2.625rem"><h3 style="font-family:Montserrat, sans-serif;margin-top:0;margin-bottom:0;height:42px;line-height:2.625rem"><a style="box-shadow:none;text-decoration:none;color:rgb(255, 167, 196)" href="/Personal-Blog/">Overreacted</a></h3><div style="height:24px"></div></header><main><article><header><h1 style="color:var(--textTitle)">React å¦‚ä½•åŒºåˆ† Class å’Œ Functionï¼Ÿ</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.4rem">December 2, 2018<!-- --> â€¢ â˜•ï¸â˜•ï¸ 9 min read</p><div class="translations"><p style="font-size:0.9em;border:1px solid var(--hr);border-radius:0.75em;padding:0.75em;background:var(--inlineCode-bg);word-break:keep-all;font-family:system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;,
    &quot;Roboto&quot;, &quot;Oxygen&quot;, &quot;Ubuntu&quot;, &quot;Cantarell&quot;, &quot;Fira Sans&quot;,
    &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif"><span><span>Translated by readers into: </span><a href="/Personal-Blog/es/how-does-react-tell-a-class-from-a-function/">EspaÃ±ol</a> â€¢ <a href="/Personal-Blog/fr/how-does-react-tell-a-class-from-a-function/">FranÃ§ais</a> â€¢ <a href="/Personal-Blog/hu/how-does-react-tell-a-class-from-a-function/">Magyar</a> â€¢ <a href="/Personal-Blog/sk/how-does-react-tell-a-class-from-a-function/">SlovenÄina</a> â€¢ <a href="/Personal-Blog/ja/how-does-react-tell-a-class-from-a-function/">æ—¥æœ¬èª</a> â€¢ <b>ç®€ä½“ä¸­æ–‡</b> â€¢ <a href="/Personal-Blog/zh-hant/how-does-react-tell-a-class-from-a-function/">ç¹é«”ä¸­æ–‡</a></span><br/><br/><a href="/Personal-Blog/how-does-react-tell-a-class-from-a-function/">Read the original</a> â€¢ <a href="https://github.com/gaearon/overreacted.io/edit/master/src/pages/how-does-react-tell-a-class-from-a-function/index.zh-hans.md" target="_blank" rel="noopener noreferrer">Improve this translation</a> â€¢ <a href="/Personal-Blog/zh-hans">View all translated posts</a> </p></div></header><div><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªä»¥å‡½æ•°å½¢å¼å®šä¹‰çš„ <code class="language-text">Greeting</code> ç»„ä»¶ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>React ä¹Ÿæ”¯æŒå°†ä»–å®šä¹‰æˆä¸€ä¸ªç±»ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ï¼ˆç›´åˆ°<a href="https://reactjs.org/docs/hooks-intro.html" target="_blank" rel="nofollow noopener noreferrer">æœ€è¿‘</a>ï¼Œè¿™æ˜¯ä½¿ç”¨ state ç‰¹æ€§çš„å”¯ä¸€æ–¹å¼ï¼‰</p>
<p>å½“ä½ è¦æ¸²æŸ“ä¸€ä¸ª <code class="language-text">&lt;Greeting /&gt;</code> ç»„ä»¶æ—¶ï¼Œä½ å¹¶ä¸éœ€è¦å…³å¿ƒå®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// æ˜¯ç±»è¿˜æ˜¯å‡½æ•° â€”â€” æ— æ‰€è°“</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Greeting</span> <span class="token punctuation">/></span></span></code></pre></div>
<p>ä½† <em>React æœ¬èº«</em> åœ¨æ„å…¶ä¸­çš„å·®åˆ«ï¼</p>
<p>å¦‚æœ <code class="language-text">Greeting</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒReact éœ€è¦è°ƒç”¨å®ƒã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ä½ çš„ä»£ç </span>
<span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// React å†…éƒ¨</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p>Hello&lt;/p></span></code></pre></div>
<p>ä½†å¦‚æœ <code class="language-text">Greeting</code> æ˜¯ä¸€ä¸ªç±»ï¼ŒReact éœ€è¦å…ˆç”¨ <code class="language-text">new</code> æ“ä½œç¬¦å°†å…¶å®ä¾‹åŒ–ï¼Œ<em>ç„¶å</em> è°ƒç”¨åˆšæ‰ç”Ÿæˆå®ä¾‹çš„ <code class="language-text">render</code> æ–¹æ³•ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ä½ çš„ä»£ç </span>
<span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// React å†…éƒ¨</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Greeting {}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> instance<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p>Hello&lt;/p></span></code></pre></div>
<p>æ— è®ºå“ªç§æƒ…å†µ React çš„ç›®æ ‡éƒ½æ˜¯å»è·å–æ¸²æŸ“åçš„èŠ‚ç‚¹ï¼ˆåœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ<code class="language-text">&lt;p&gt;Hello&lt;/p&gt;</code>ï¼‰ã€‚ä½†å…·ä½“çš„æ­¥éª¤å–å†³äº <code class="language-text">Greeting</code> æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p>
<p><strong>æ‰€ä»¥ React æ˜¯æ€ä¹ˆçŸ¥é“æŸæ ·ä¸œè¥¿æ˜¯ class è¿˜æ˜¯ function çš„å‘¢ï¼Ÿ</strong></p>
<p>å°±åƒæˆ‘<a href="https://overreacted.io/why-do-we-write-super-props/" target="_blank" rel="nofollow noopener noreferrer">ä¸Šä¸€ç¯‡åšå®¢</a>ä¸­æåˆ°çš„ï¼Œ<strong>ä½ å¹¶ä¸<em>éœ€è¦</em>çŸ¥é“è¿™ä¸ªæ‰èƒ½é«˜æ•ˆä½¿ç”¨ Reactã€‚</strong> æˆ‘å¤šå¹´æ¥éƒ½ä¸çŸ¥é“è¿™ä¸ªã€‚è¯·ä¸è¦æŠŠè¿™å˜æˆä¸€é“é¢è¯•é¢˜ã€‚äº‹å®ä¸Šï¼Œè¿™ç¯‡åšå®¢æ›´å¤šçš„æ˜¯å…³äº JavaScript è€Œä¸æ˜¯ Reactã€‚</p>
<p>è¿™ç¯‡åšå®¢æ˜¯å†™ç»™é‚£äº›å¯¹ React å…·ä½“æ˜¯ <strong>å¦‚ä½•</strong> å·¥ä½œçš„è¡¨ç¤ºå¥½å¥‡çš„è¯»è€…çš„ã€‚ä½ æ˜¯é‚£æ ·çš„äººå—ï¼Ÿé‚£æˆ‘ä»¬ä¸€èµ·æ·±å…¥æ¢è®¨ä¸€ä¸‹å§ã€‚</p>
<p><strong>è¿™å°†æ˜¯ä¸€æ®µæ¼«é•¿çš„æ—…ç¨‹ï¼Œç³»å¥½å®‰å…¨å¸¦ã€‚è¿™ç¯‡æ–‡ç« å¹¶æ²¡æœ‰å¤šå°‘å…³äº React æœ¬èº«çš„ä¿¡æ¯ï¼Œä½†æˆ‘ä»¬ä¼šæ¶‰åŠåˆ° <code class="language-text">new</code>ã€<code class="language-text">this</code>ã€<code class="language-text">class</code>ã€ç®­å¤´å‡½æ•°ã€<code class="language-text">prototype</code>ã€<code class="language-text">__proto__</code>ã€<code class="language-text">instanceof</code> ç­‰æ–¹é¢ï¼Œä»¥åŠè¿™äº›ä¸œè¥¿æ˜¯å¦‚ä½•åœ¨ JavaScript ä¸­ä¸€èµ·å·¥ä½œçš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œä½ å¹¶ä¸éœ€è¦åœ¨ä½¿ç”¨ React æ—¶ä¸€ç›´æƒ³ç€è¿™äº›ï¼Œé™¤éä½ æ­£åœ¨å®ç° Reactâ€¦</strong></p>
<p>ï¼ˆå¦‚æœä½ çœŸçš„å¾ˆæƒ³çŸ¥é“ç­”æ¡ˆï¼Œç›´æ¥ç¿»åˆ°æœ€ä¸‹é¢ã€‚ï¼‰</p>
<hr>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä¸ºä»€ä¹ˆæŠŠå‡½æ•°å’Œç±»åˆ†å¼€å¤„ç†å¾ˆé‡è¦ã€‚æ³¨æ„çœ‹æˆ‘ä»¬æ˜¯æ€ä¹ˆä½¿ç”¨ <code class="language-text">new</code> æ“ä½œç¬¦æ¥è°ƒç”¨ä¸€ä¸ªç±»çš„ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// å¦‚æœ Greeting æ˜¯ä¸€ä¸ªå‡½æ•°</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p>Hello&lt;/p></span>

<span class="token comment">// å¦‚æœ Greeting æ˜¯ä¸€ä¸ªç±»</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Greeting {}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> instance<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;p>Hello&lt;/p></span></code></pre></div>
<p>æˆ‘ä»¬æ¥ç®€å•çœ‹ä¸€ä¸‹ <code class="language-text">new</code> åœ¨ JavaScript æ˜¯å¹²ä»€ä¹ˆçš„ã€‚</p>
<hr>
<p>åœ¨è¿‡å»ï¼ŒJavaScript è¿˜æ²¡æœ‰ç±»ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨æ™®é€šå‡½æ•°æ¥æ¨¡æ‹Ÿã€‚<strong>å…·ä½“æ¥è®²ï¼Œåªè¦åœ¨å‡½æ•°è°ƒç”¨å‰åŠ ä¸Š <code class="language-text">new</code> æ“ä½œç¬¦ï¼Œä½ å°±å¯ä»¥æŠŠ<em>ä»»ä½•</em>å‡½æ•°å½“åšä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°æ¥ç”¨ï¼š</strong></p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// åªæ˜¯ä¸€ä¸ªå‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… Person {name: 'Fred'}</span>
<span class="token keyword">var</span> george <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'George'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ”´ æ²¡ç”¨çš„</span></code></pre></div>
<p>ç°åœ¨ä½ ä¾ç„¶å¯ä»¥è¿™æ ·å†™ï¼åœ¨ DevTools é‡Œè¯•è¯•å§ã€‚</p>
<p>å¦‚æœä½ è°ƒç”¨ <code class="language-text">Person(&#39;Fred&#39;)</code> æ—¶<strong>æ²¡æœ‰</strong>åŠ  <code class="language-text">new</code>ï¼Œå…¶ä¸­çš„ <code class="language-text">this</code> ä¼šæŒ‡å‘æŸä¸ªå…¨å±€ä¸”æ— ç”¨çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚ï¼Œ<code class="language-text">window</code> æˆ–è€… <code class="language-text">undefined</code>ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬çš„ä»£ç ä¼šå´©æºƒï¼Œæˆ–è€…åšä¸€äº›åƒè®¾ç½® <code class="language-text">window.name</code> ä¹‹ç±»çš„å‚»äº‹ã€‚</p>
<p>é€šè¿‡åœ¨è°ƒç”¨å‰å¢åŠ  <code class="language-text">new</code>ï¼Œæˆ‘ä»¬è¯´ï¼šã€Œå˜¿ JavaScriptï¼Œæˆ‘çŸ¥é“ <code class="language-text">Person</code> åªæ˜¯ä¸ªå‡½æ•°ï¼Œä½†è®©æˆ‘ä»¬å‡è£…å®ƒæ˜¯ä¸ªæ„é€ å‡½æ•°å§ã€‚<strong>åˆ›å»ºä¸€ä¸ª <code class="language-text">{}</code> å¯¹è±¡å¹¶æŠŠ <code class="language-text">Person</code> ä¸­çš„ <code class="language-text">this</code> æŒ‡å‘é‚£ä¸ªå¯¹è±¡ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥é€šè¿‡ç±»ä¼¼ <code class="language-text">this.name</code> çš„å½¢å¼å»è®¾ç½®ä¸€äº›ä¸œè¥¿ï¼Œç„¶åæŠŠè¿™ä¸ªå¯¹è±¡è¿”å›ç»™æˆ‘ã€‚</strong>ã€</p>
<p>è¿™å°±æ˜¯ <code class="language-text">new</code> æ“ä½œç¬¦æ‰€åšçš„äº‹ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">var</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å’Œ `Person` ä¸­çš„ `this` ç­‰æ•ˆçš„å¯¹è±¡</span></code></pre></div>
<p><code class="language-text">new</code> æ“ä½œç¬¦åŒæ—¶ä¹ŸæŠŠæˆ‘ä»¬æ”¾åœ¨ <code class="language-text">Person.prototype</code> ä¸Šçš„ä¸œè¥¿æ”¾åˆ°äº† <code class="language-text">fred</code> å¯¹è±¡ä¸Šï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hi, I am '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fred<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™å°±æ˜¯åœ¨ JavaScript ç›´æ¥æ”¯æŒç±»ä¹‹å‰ï¼Œäººä»¬æ¨¡æ‹Ÿç±»çš„æ–¹å¼ã€‚</p>
<hr>
<p><code class="language-text">new</code> åœ¨ JavaScript ä¸­å·²ç»å­˜åœ¨äº†å¥½ä¹…äº†ï¼Œç„¶è€Œç±»è¿˜åªæ˜¯æœ€è¿‘çš„äº‹ï¼Œå®ƒçš„å‡ºç°è®©æˆ‘ä»¬èƒ½å¤Ÿé‡æ„æˆ‘ä»¬å‰é¢çš„ä»£ç ä»¥ä½¿å®ƒæ›´ç¬¦åˆæˆ‘ä»¬çš„æœ¬æ„ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hi, I am '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fred<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong><em>æ•æ‰å¼€å‘è€…çš„æœ¬æ„</em></strong>æ˜¯è¯­è¨€å’Œ API è®¾è®¡ä¸­éå¸¸é‡è¦çš„ä¸€ç‚¹ã€‚</p>
<p>å¦‚æœä½ å†™äº†ä¸€ä¸ªå‡½æ•°ï¼ŒJavaScript æ²¡åŠæ³•åˆ¤æ–­å®ƒåº”è¯¥åƒ <code class="language-text">alert()</code> ä¸€æ ·è¢«è°ƒç”¨ï¼Œè¿˜æ˜¯åº”è¯¥è¢«è§†ä½œåƒ <code class="language-text">new Person()</code> ä¸€æ ·çš„æ„é€ å‡½æ•°ã€‚å¿˜è®°ç»™åƒ <code class="language-text">Person</code> è¿™æ ·çš„å‡½æ•°æŒ‡å®š <code class="language-text">new</code> ä¼šå¯¼è‡´ä»¤äººè´¹è§£çš„è¡Œä¸ºã€‚</p>
<p><strong>ç±»è¯­æ³•å…è®¸æˆ‘ä»¬è¯´ï¼šã€Œè¿™ä¸ä»…ä»…æ˜¯ä¸ªå‡½æ•° â€”â€” è¿™æ˜¯ä¸ªç±»å¹¶ä¸”å®ƒæœ‰æ„é€ å‡½æ•°ã€ã€‚</strong> å¦‚æœä½ åœ¨è°ƒç”¨å®ƒæ—¶å¿˜äº†åŠ  <code class="language-text">new</code>ï¼ŒJavaScript ä¼šæŠ¥é”™ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">let</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// âœ…  å¦‚æœ Person æ˜¯ä¸ªå‡½æ•°ï¼šæœ‰æ•ˆ</span>
<span class="token comment">// âœ…  å¦‚æœ Person æ˜¯ä¸ªç±»ï¼šä¾ç„¶æœ‰æ•ˆ</span>

<span class="token keyword">let</span> george <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'George'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æˆ‘ä»¬å¿˜è®°ä½¿ç”¨ `new`</span>
<span class="token comment">// ğŸ˜³ å¦‚æœ Person æ˜¯ä¸ªé•¿å¾—åƒæ„é€ å‡½æ•°çš„æ–¹æ³•ï¼šä»¤äººå›°æƒ‘çš„è¡Œä¸º</span>
<span class="token comment">// ğŸ”´ å¦‚æœ Person æ˜¯ä¸ªç±»ï¼šç«‹å³å¤±è´¥</span></code></pre></div>
<p>è¿™å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨æ—©æœŸæ•æ‰é”™è¯¯ï¼Œè€Œä¸ä¼šé‡åˆ°ç±»ä¼¼ <code class="language-text">this.name</code> è¢«å½“æˆ <code class="language-text">window.name</code> å¯¹å¾…è€Œä¸æ˜¯ <code class="language-text">george.name</code> çš„éšæ™¦é”™è¯¯ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™æ„å‘³ç€ React éœ€è¦åœ¨è°ƒç”¨æ‰€æœ‰ç±»ä¹‹å‰åŠ ä¸Š <code class="language-text">new</code>ï¼Œè€Œä¸èƒ½æŠŠå®ƒç›´æ¥å½“åšä¸€ä¸ªå¸¸è§„çš„å‡½æ•°å»è°ƒç”¨ï¼Œå› ä¸º JavaScript ä¼šæŠŠå®ƒå½“åšä¸€ä¸ªé”™è¯¯å¯¹å¾…ï¼</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ğŸ”´ React ä¸èƒ½ç®€å•è¿™ä¹ˆåšï¼š</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token function">Counter</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™æ„å‘³ç€éº»çƒ¦ã€‚</p>
<hr>
<p>åœ¨æˆ‘ä»¬çœ‹åˆ° React å¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯è¦è®°å¾—å¤§éƒ¨åˆ† React çš„ç”¨æˆ·ä¼šä½¿ç”¨ Babel ç­‰ç¼–è¯‘å™¨æ¥ç¼–è¯‘ç±»ç­‰ç°ä»£åŒ–çš„ç‰¹æ€§ä»¥ä¾¿èƒ½åœ¨è€æ—§çš„æµè§ˆå™¨ä¸Šè¿è¡Œã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„è®¾è®¡ä¸­è€ƒè™‘ç¼–è¯‘å™¨ã€‚</p>
<p>åœ¨ Babel çš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œç±»ä¸åŠ  <code class="language-text">new</code> ä¹Ÿå¯ä»¥è¢«è°ƒç”¨ã€‚ä½†è¿™ä¸ªé—®é¢˜å·²ç»è¢«ä¿®å¤äº† â€”â€” é€šè¿‡ç”Ÿæˆé¢å¤–çš„ä»£ç çš„æ–¹å¼ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç¨å¾®ç®€åŒ–äº†ä¸€ä¸‹ Babel çš„è¾“å‡ºï¼š</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">"Cannot call a class as a function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Our code:</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… OK</span>
<span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'George'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ğŸ”´ æ— æ³•æŠŠç±»å½“åšå‡½æ•°æ¥è°ƒç”¨</span></code></pre></div>
<p>ä½ æˆ–è®¸å·²ç»åœ¨ä½ æ„å»ºå‡ºæ¥çš„åŒ…ä¸­è§è¿‡ç±»ä¼¼çš„ä»£ç ï¼Œè¿™å°±æ˜¯é‚£äº› <code class="language-text">_classCallCheck</code> å‡½æ•°åšçš„äº‹ã€‚ï¼ˆä½ å¯ä»¥é€šè¿‡å¯ç”¨ã€Œloose modeã€æ¥å…³é—­æ£€æŸ¥ä»¥å‡å°æ„å»ºåŒ…çš„å°ºå¯¸ï¼Œä½†è¿™æˆ–è®¸ä¼šä½¿ä½ æœ€ç»ˆè½¬å‘çœŸæ­£çš„åŸç”Ÿç±»æ—¶å˜å¾—å¤æ‚ï¼‰</p>
<hr>
<p>è‡³æ­¤ï¼Œä½ åº”è¯¥å·²ç»å¤§è‡´ç†è§£äº†è°ƒç”¨æ—¶åŠ ä¸åŠ  <code class="language-text">new</code> çš„å·®åˆ«ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th><code class="language-text">new Person()</code></th>
<th><code class="language-text">Person()</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">class</code></td>
<td>âœ… <code class="language-text">this</code> æ˜¯ä¸€ä¸ª <code class="language-text">Person</code> å®ä¾‹</td>
<td>ğŸ”´ <code class="language-text">TypeError</code></td>
</tr>
<tr>
<td><code class="language-text">function</code></td>
<td>âœ… <code class="language-text">this</code> æ˜¯ä¸€ä¸ª <code class="language-text">Person</code> å®ä¾‹</td>
<td>ğŸ˜³ <code class="language-text">this</code> æ˜¯ <code class="language-text">window</code> æˆ– <code class="language-text">undefined</code></td>
</tr>
</tbody>
</table>
<p>è¿™å°±æ˜¯ React æ­£ç¡®è°ƒç”¨ä½ çš„ç»„ä»¶å¾ˆé‡è¦çš„åŸå› ã€‚<strong>å¦‚æœä½ çš„ç»„ä»¶è¢«å®šä¹‰ä¸ºä¸€ä¸ªç±»ï¼ŒReact éœ€è¦ä½¿ç”¨ <code class="language-text">new</code> æ¥è°ƒç”¨å®ƒ</strong>ã€‚</p>
<p>æ‰€ä»¥ React èƒ½æ£€æŸ¥å‡ºæŸæ ·ä¸œè¥¿æ˜¯å¦æ˜¯ç±»å—ï¼Ÿ</p>
<p>æ²¡é‚£ä¹ˆå®¹æ˜“ï¼å³ä¾¿æˆ‘ä»¬èƒ½å¤Ÿ<a href="https://stackoverflow.com/questions/29093396/how-do-you-check-the-difference-between-an-ecmascript-6-class-and-function" target="_blank" rel="nofollow noopener noreferrer">åœ¨ JavaScript ä¸­åŒºåˆ†ç±»å’Œå‡½æ•°</a>ï¼Œé¢å¯¹è¢« Babel ç­‰å·¥å…·å¤„ç†è¿‡çš„ç±»è¿™è¿˜æ˜¯æ²¡ç”¨ã€‚å¯¹æµè§ˆå™¨è€Œè¨€ï¼Œå®ƒä»¬åªæ˜¯ä¸åŒçš„å‡½æ•°ã€‚è¿™æ˜¯ React çš„ä¸å¹¸ã€‚</p>
<hr>
<p>å¥½ï¼Œé‚£ React å¯ä»¥ç›´æ¥åœ¨æ¯æ¬¡è°ƒç”¨æ—¶éƒ½åŠ ä¸Š <code class="language-text">new</code> å—ï¼Ÿå¾ˆé—æ†¾ï¼Œè¿™ç§æ–¹æ³•å¹¶ä¸æ€»æ˜¯æœ‰ç”¨ã€‚</p>
<p>å¯¹äºå¸¸è§„å‡½æ•°ï¼Œç”¨ <code class="language-text">new</code> è°ƒç”¨ä¼šç»™å®ƒä»¬ä¸€ä¸ª <code class="language-text">this</code> ä½œä¸ºå¯¹è±¡å®ä¾‹ã€‚å¯¹äºç”¨ä½œæ„é€ å‡½æ•°çš„å‡½æ•°ï¼ˆæ¯”å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„ <code class="language-text">Person</code>ï¼‰æ˜¯å¯å–çš„ï¼Œä½†å¯¹å‡½æ•°ç»„ä»¶è¿™æˆ–è®¸å°±æ¯”è¾ƒä»¤äººå›°æƒ‘äº†ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æˆ‘ä»¬å¹¶ä¸æœŸæœ› `this` åœ¨è¿™é‡Œè¡¨ç¤ºä»»ä½•ç±»å‹çš„å®ä¾‹</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>è¿™æš‚ä¸”è¿˜èƒ½å¿ï¼Œè¿˜æœ‰ä¸¤ä¸ª<em>å…¶ä»–</em>ç†ç”±ä¼šæ‰¼æ€è¿™ä¸ªæƒ³æ³•ã€‚</p>
<hr>
<p>å…³äºä¸ºä»€ä¹ˆæ€»æ˜¯ä½¿ç”¨ <code class="language-text">new</code> æ˜¯æ²¡ç”¨çš„çš„ç¬¬ä¸€ä¸ªç†ç”±æ˜¯ï¼Œå¯¹äºåŸç”Ÿçš„ç®­å¤´å‡½æ•°ï¼ˆä¸æ˜¯é‚£äº›è¢« Babel ç¼–è¯‘è¿‡çš„ï¼‰ï¼Œç”¨ <code class="language-text">new</code> è°ƒç”¨ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Greeting</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ”´ Greeting ä¸æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°</span></code></pre></div>
<p>è¿™ä¸ªè¡Œä¸ºæ˜¯éµå¾ªç®­å¤´å‡½æ•°çš„è®¾è®¡è€Œåˆ»æ„ä¸ºä¹‹çš„ã€‚ç®­å¤´å‡½æ•°çš„ä¸€ä¸ªé™„å¸¦ä½œç”¨æ˜¯å®ƒ<em>æ²¡æœ‰</em>è‡ªå·±çš„ <code class="language-text">this</code> å€¼ â€”â€” <code class="language-text">this</code> è§£æè‡ªç¦»å¾—æœ€è¿‘çš„å¸¸è§„å‡½æ•°ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Friends</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> friends <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>friends<span class="token punctuation">;</span>
    <span class="token keyword">return</span> friends<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>friend <span class="token operator">=></span>
      <span class="token operator">&lt;</span>Friend
        <span class="token comment">// `this` è§£æè‡ª `render` æ–¹æ³•</span>
        size<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>size<span class="token punctuation">}</span>
        name<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
        key<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>OKï¼Œæ‰€ä»¥<strong>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ <code class="language-text">this</code>ã€‚</strong>ä½†è¿™æ„å‘³ç€å®ƒä½œä¸ºæ„é€ å‡½æ•°æ˜¯å®Œå…¨æ— ç”¨çš„ï¼</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ğŸ”´ è¿™ä¹ˆå†™æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>å› æ­¤ï¼Œ<strong>JavaScript ä¸å…è®¸ç”¨ <code class="language-text">new</code> è°ƒç”¨ç®­å¤´å‡½æ•°ã€‚</strong>å¦‚æœä½ è¿™ä¹ˆåšï¼Œä½ æˆ–è®¸å·²ç»çŠ¯äº†é”™ï¼Œæœ€å¥½æ—©ç‚¹å‘Šè¯‰ä½ ã€‚è¿™å’Œ JavaScript ä¸è®©ä½ <em>ä¸åŠ </em> <code class="language-text">new</code> å»è°ƒç”¨ä¸€ä¸ªç±»æ˜¯ç±»ä¼¼çš„ã€‚</p>
<p>è¿™æ ·å¾ˆä¸é”™ï¼Œä½†è¿™ä¹Ÿè®©æˆ‘ä»¬çš„è®¡åˆ’å—é˜»ã€‚React ä¸èƒ½ç®€å•å¯¹æ‰€æœ‰ä¸œè¥¿éƒ½ä½¿ç”¨ <code class="language-text">new</code>ï¼Œå› ä¸ºä¼šç ´åç®­å¤´å‡½æ•°ï¼æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç®­å¤´å‡½æ•°æ²¡æœ‰ <code class="language-text">prototype</code> çš„ç‰¹ç‚¹æ¥æ£€æµ‹ç®­å¤´å‡½æ•°ï¼Œä¸å¯¹å®ƒä»¬ä½¿ç”¨ <code class="language-text">new</code>ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>prototype <span class="token comment">// undefined</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>prototype <span class="token comment">// {constructor: f}</span></code></pre></div>
<p>ä½†è¿™å¯¹äºè¢« Babel ç¼–è¯‘è¿‡çš„å‡½æ•°æ˜¯<a href="https://github.com/facebook/react/issues/4599#issuecomment-136562930" target="_blank" rel="nofollow noopener noreferrer">æ²¡ç”¨</a>çš„ã€‚è¿™æˆ–è®¸æ²¡ä»€ä¹ˆå¤§ä¸äº†ï¼Œä½†è¿˜æœ‰å¦ä¸€ä¸ªåŸå› ä½¿å¾—è¿™æ¡è·¯ä¸ä¼šæœ‰ç»“æœã€‚</p>
<hr>
<p>å¦ä¸€ä¸ªæˆ‘ä»¬ä¸èƒ½æ€»æ˜¯ä½¿ç”¨ <code class="language-text">new</code> çš„åŸå› æ˜¯å®ƒä¼šå¦¨ç¢ React æ”¯æŒè¿”å›å­—ç¬¦ä¸²æˆ–å…¶å®ƒåŸå§‹ç±»å‹çš„ç»„ä»¶ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… 'Hello'</span>
<span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ˜³ Greeting {}</span></code></pre></div>
<p>è¿™ï¼Œå†ä¸€æ¬¡ï¼Œå’Œ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new" target="_blank" rel="nofollow noopener noreferrer"><code class="language-text">new</code> æ“ä½œç¬¦</a>çš„æ€ªå¼‚è®¾è®¡æœ‰å…³ã€‚å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€çœ‹åˆ°çš„ï¼Œ<code class="language-text">new</code> å‘Šè¯‰ JavaScript å¼•æ“å»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè®©è¿™ä¸ªå¯¹è±¡æˆä¸ºå‡½æ•°å†…éƒ¨çš„ <code class="language-text">this</code>ï¼Œç„¶åæŠŠè¿™ä¸ªå¯¹è±¡ä½œä¸º <code class="language-text">new</code> çš„ç»“æœç»™æˆ‘ä»¬ã€‚</p>
<p>ç„¶è€Œï¼ŒJavaScript ä¹Ÿå…è®¸ä¸€ä¸ªä½¿ç”¨ <code class="language-text">new</code> è°ƒç”¨çš„å‡½æ•°è¿”å›å¦ä¸€ä¸ªå¯¹è±¡ä»¥ <strong>è¦†ç›–</strong> <code class="language-text">new</code> çš„è¿”å›å€¼ã€‚æˆ–è®¸ï¼Œè¿™åœ¨æˆ‘ä»¬åˆ©ç”¨è¯¸å¦‚ã€Œå¯¹è±¡æ± æ¨¡å¼ã€æ¥å¯¹ç»„ä»¶è¿›è¡Œå¤ç”¨æ—¶æ˜¯è¢«è®¤ä¸ºæœ‰ç”¨çš„ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// åˆ›å»ºäº†ä¸€ä¸ªæ‡’å˜é‡ zeroVector = null;</span>
<span class="token keyword">function</span> <span class="token function">Vector</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>zeroVector <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¤ç”¨åŒä¸€ä¸ªå®ä¾‹</span>
      <span class="token keyword">return</span> zeroVector<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    zeroVector <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ˜² b === c</span></code></pre></div>
<p>ç„¶è€Œï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼<em>ä¸æ˜¯</em>ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¼šè¢« <code class="language-text">new</code> <em>å®Œå…¨å¿½ç•¥</em>ã€‚å¦‚æœä½ è¿”å›äº†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œå°±å¥½åƒå®Œå…¨æ²¡æœ‰ <code class="language-text">return</code> ä¸€æ ·ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Answer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">Answer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… 42</span>
<span class="token keyword">new</span> <span class="token class-name">Answer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ˜³ Answer {}</span></code></pre></div>
<p>å½“ä½¿ç”¨ <code class="language-text">new</code> è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ˜¯æ²¡åŠæ³•è¯»å–åŸå§‹ç±»å‹ï¼ˆä¾‹å¦‚ä¸€ä¸ªæ•°å­—æˆ–å­—ç¬¦ä¸²ï¼‰çš„è¿”å›å€¼çš„ã€‚å› æ­¤å¦‚æœ React æ€»æ˜¯ä½¿ç”¨ <code class="language-text">new</code>ï¼Œå°±æ²¡åŠæ³•å¢åŠ å¯¹è¿”å›å­—ç¬¦ä¸²çš„ç»„ä»¶çš„æ”¯æŒï¼</p>
<p>è¿™æ˜¯ä¸å¯æ¥å—çš„ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å¦¥åã€‚</p>
<hr>
<p>è‡³æ­¤æˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆï¼ŸReact åœ¨è°ƒç”¨ç±»ï¼ˆåŒ…æ‹¬ Babel è¾“å‡ºçš„ï¼‰æ—¶<em>éœ€è¦ç”¨</em> <code class="language-text">new</code>ï¼Œä½†åœ¨è°ƒç”¨å¸¸è§„å‡½æ•°æˆ–ç®­å¤´å‡½æ•°æ—¶ï¼ˆåŒ…æ‹¬ Babel è¾“å‡ºçš„ï¼‰<strong>ä¸éœ€è¦ç”¨</strong> <code class="language-text">new</code>ï¼Œå¹¶ä¸”æ²¡æœ‰å¯é çš„æ–¹æ³•æ¥åŒºåˆ†è¿™äº›æƒ…å†µã€‚</p>
<p><strong>å¦‚æœæˆ‘ä»¬æ²¡æ³•è§£å†³ä¸€ä¸ªç¬¼ç»Ÿçš„é—®é¢˜ï¼Œæˆ‘ä»¬èƒ½è§£å†³ä¸€ä¸ªå…·ä½“çš„å—ï¼Ÿ</strong></p>
<p>å½“ä½ æŠŠä¸€ä¸ªç»„ä»¶å®šä¹‰ä¸ºç±»ï¼Œä½ å¾ˆå¯èƒ½ä¼šæƒ³è¦æ‰©å±• <code class="language-text">React.Component</code> ä»¥ä¾¿è·å–å†…ç½®çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code class="language-text">this.setState()</code>ã€‚ <strong>ä¸å…¶è¯•å›¾æ£€æµ‹æ‰€æœ‰çš„ç±»ï¼Œæˆ‘ä»¬èƒ½å¦åªæ£€æµ‹ <code class="language-text">React.Component</code> çš„åä»£å‘¢ï¼Ÿ</strong></p>
<p>å‰§é€ï¼šReact å°±æ˜¯è¿™ä¹ˆå¹²çš„ã€‚</p>
<hr>
<p>æˆ–è®¸ï¼Œæ£€æŸ¥ <code class="language-text">Greeting</code> æ˜¯å¦æ˜¯ä¸€ä¸ª React ç»„ä»¶ç±»çš„æœ€ç¬¦åˆè¯­è¨€ä¹ æƒ¯çš„æ–¹å¼æ˜¯æµ‹è¯• <code class="language-text">Greeting.prototype instanceof React.Component</code>ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">.</span>prototype <span class="token keyword">instanceof</span> <span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre></div>
<p>æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆï¼Œåˆšæ‰å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿï¼ä¸ºäº†å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ JavaScript åŸå‹ã€‚</p>
<p>ä½ æˆ–è®¸å¯¹ã€ŒåŸå‹é“¾ã€å¾ˆç†Ÿæ‚‰ã€‚JavaScript ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªã€ŒåŸå‹ã€ã€‚å½“æˆ‘ä»¬å†™ <code class="language-text">fred.sayHi()</code> ä½† <code class="language-text">fred</code> å¯¹è±¡æ²¡æœ‰ <code class="language-text">sayHi</code> å±æ€§ï¼Œæˆ‘ä»¬å°è¯•åˆ° <code class="language-text">fred</code> çš„åŸå‹ä¸Šå»æ‰¾ <code class="language-text">sayHi</code> å±æ€§ã€‚è¦æ˜¯æˆ‘ä»¬åœ¨è¿™å„¿æ‰¾ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹é“¾çš„ä¸‹ä¸€ä¸ªåŸå‹ â€”â€” <code class="language-text">fred</code> çš„åŸå‹çš„åŸå‹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p><strong>è´¹è§£çš„æ˜¯ï¼Œä¸€ä¸ªç±»æˆ–å‡½æ•°çš„ <code class="language-text">prototype</code> å±æ€§ <em>å¹¶ä¸</em> æŒ‡å‘é‚£ä¸ªå€¼çš„åŸå‹ã€‚</strong>æˆ‘æ²¡å¼€ç©ç¬‘ã€‚</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ¤ª ä¸æ˜¯ Person çš„åŸå‹</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ˜³ Person çš„åŸå‹</span></code></pre></div>
<p>å› æ­¤ã€ŒåŸå‹é“¾ã€æ›´åƒæ˜¯ <code class="language-text">__proto__.__proto__.__proto__</code> è€Œä¸æ˜¯ <code class="language-text">prototype.prototype.prototype</code>ï¼Œæˆ‘èŠ±äº†å¥½å‡ å¹´æ‰ææ‡‚è¿™ä¸€ç‚¹ã€‚</p>
<p>é‚£ä¹ˆå‡½æ•°å’Œç±»çš„ <code class="language-text">prototype</code> å±æ€§åˆæ˜¯ä»€ä¹ˆï¼Ÿ<strong>æ˜¯ç”¨ <code class="language-text">new</code> è°ƒç”¨é‚£ä¸ªç±»æˆ–å‡½æ•°ç”Ÿæˆçš„æ‰€æœ‰å¯¹è±¡çš„ <code class="language-text">__proto__</code>ï¼</strong></p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hi, I am '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Fred'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½® `fred.__proto__` ä¸º `Person.prototype`</span></code></pre></div>
<p>é‚£ä¸ª <code class="language-text">__proto__</code> é“¾æ‰æ˜¯ JavaScript ç”¨æ¥æŸ¥æ‰¾å±æ€§çš„ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx">fred<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1. fred æœ‰ sayHi å±æ€§å—ï¼Ÿä¸ã€‚</span>
<span class="token comment">// 2. fred.__proto__ æœ‰ sayHi å±æ€§å—ï¼Ÿæ˜¯çš„ï¼Œè°ƒç”¨å®ƒï¼</span>

fred<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1. fred æœ‰ toString å±æ€§å—ï¼Ÿä¸ã€‚</span>
<span class="token comment">// 2. fred.__proto__ æœ‰ toString å±æ€§å—ï¼Ÿä¸ã€‚</span>
<span class="token comment">// 3. fred.__proto__.__proto__ æœ‰ toString å±æ€§å—ï¼Ÿæ˜¯çš„ï¼Œè°ƒç”¨å®ƒï¼</span></code></pre></div>
<p>åœ¨å®æˆ˜ä¸­ï¼Œä½ åº”è¯¥å‡ ä¹æ°¸è¿œä¸éœ€è¦ç›´æ¥åœ¨ä»£ç é‡ŒåŠ¨åˆ° <code class="language-text">__proto__</code> ï¼Œé™¤éä½ åœ¨è°ƒè¯•å’ŒåŸå‹é“¾ç›¸å…³çš„é—®é¢˜ã€‚å¦‚æœä½ æƒ³è®©æŸæ ·ä¸œè¥¿åœ¨ <code class="language-text">fred.__proto__</code> ä¸Šå¯ç”¨ï¼Œä½ åº”è¯¥æŠŠå®ƒæ”¾åœ¨ <code class="language-text">Person.prototype</code>ï¼Œè‡³å°‘å®ƒæœ€åˆæ˜¯è¿™ä¹ˆè®¾è®¡çš„ã€‚</p>
<p><code class="language-text">__proto__</code> å±æ€§ç”šè‡³ä¸€å¼€å§‹å°±ä¸åº”è¯¥è¢«æµè§ˆå™¨æš´éœ²å‡ºæ¥ï¼Œå› ä¸ºåŸå‹é“¾åº”è¯¥è¢«è§†ä¸ºä¸€ä¸ªå†…éƒ¨æ¦‚å¿µï¼Œç„¶è€ŒæŸäº›æµè§ˆå™¨å¢åŠ äº† <code class="language-text">__proto__</code> å¹¶æœ€ç»ˆå‹‰å¼ºè¢«æ ‡å‡†åŒ–ï¼ˆä½†å·²è¢«åºŸå¼ƒå¹¶æ¨èä½¿ç”¨ <code class="language-text">Object.getPrototypeOf()</code>ï¼‰ã€‚</p>
<p><strong>ç„¶è€Œä¸€ä¸ªåå«ã€ŒåŸå‹ã€çš„å±æ€§å´ç»™ä¸äº†æˆ‘ä¸€ä¸ªå€¼çš„ã€ŒåŸå‹ã€è¿™ä¸€ç‚¹è¿˜æ˜¯å¾ˆè®©æˆ‘å›°æƒ‘</strong>ï¼ˆä¾‹å¦‚ï¼Œ<code class="language-text">fred.prototype</code> æ˜¯æœªå®šä¹‰çš„ï¼Œå› ä¸º <code class="language-text">fred</code> ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ã€‚ä¸ªäººè§‚ç‚¹ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯å³ä¾¿æœ‰ç»éªŒçš„å¼€å‘è€…ä¹Ÿå®¹æ˜“è¯¯è§£ JavaScript åŸå‹é“¾çš„æœ€å¤§åŸå› ã€‚</p>
<hr>
<p>è¿™ç¯‡åšå®¢å¾ˆé•¿ï¼Œæ˜¯å§ï¼Ÿå·²ç»åˆ° 80% äº†ï¼ŒåšæŒä½ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“å½“è¯´ <code class="language-text">obj.foo</code> çš„æ—¶å€™ï¼ŒJavaScript äº‹å®ä¸Šä¼šæ²¿ç€ <code class="language-text">obj</code>, <code class="language-text">obj.__proto__</code>, <code class="language-text">obj.__proto__.__proto__</code> ç­‰ç­‰ä¸€è·¯å¯»æ‰¾ <code class="language-text">foo</code>ã€‚</p>
<p>åœ¨ä½¿ç”¨ç±»æ—¶ï¼Œä½ å¹¶éç›´æ¥é¢å¯¹è¿™ä¸€æœºåˆ¶ï¼Œä½† <code class="language-text">extends</code> çš„åŸç†ä¾ç„¶æ˜¯åŸºäºè¿™é¡¹è€æ—§ä½†æœ‰æ•ˆçš„åŸå‹é“¾æœºåˆ¶ã€‚è¿™ä¹Ÿæ˜¯çš„æˆ‘ä»¬çš„ React ç±»å®ä¾‹èƒ½å¤Ÿè®¿é—®å¦‚ <code class="language-text">setState</code> è¿™æ ·æ–¹æ³•çš„åŸå› ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Greeting.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// React.Component.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Object.prototype</span>

c<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// åœ¨ c.__proto__ (Greeting.prototype) ä¸Šæ‰¾åˆ°</span>
c<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨ c.__proto__.__proto__ (React.Component.prototype) ä¸Šæ‰¾åˆ°</span>
c<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨ c.__proto__.__proto__.__proto__ (Object.prototype) ä¸Šæ‰¾åˆ°</span></code></pre></div>
<p>æ¢å¥è¯è¯´ï¼Œ<strong>å½“ä½ åœ¨ä½¿ç”¨ç±»çš„æ—¶å€™ï¼Œå®ä¾‹çš„ <code class="language-text">__proto__</code> é“¾ã€Œé•œåƒã€äº†ç±»çš„å±‚çº§ç»“æ„ï¼š</strong></p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// `extends` é“¾</span>
Greeting
  â†’ React<span class="token punctuation">.</span>Component
    â†’ <span class="token function">Object</span> <span class="token punctuation">(</span>é—´æ¥çš„<span class="token punctuation">)</span>

<span class="token comment">// `__proto__` é“¾</span>
<span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  â†’ Greeting<span class="token punctuation">.</span>prototype
    â†’ React<span class="token punctuation">.</span>Component<span class="token punctuation">.</span>prototype
      â†’ Object<span class="token punctuation">.</span>prototype</code></pre></div>
<p>2 æ¡é“¾ã€‚</p>
<hr>
<p>æ—¢ç„¶ <code class="language-text">__proto__</code> é“¾é•œåƒäº†ç±»çš„å±‚çº§ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ä¸€ä¸ª <code class="language-text">Greeting</code> æ˜¯å¦æ‰©å±•äº† <code class="language-text">React.Component</code>ï¼Œæˆ‘ä»¬ä» <code class="language-text">Greeting.prototype</code> å¼€å§‹ï¼Œä¸€è·¯æ²¿ç€ <code class="language-text">__proto__</code> é“¾ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// `__proto__` chain</span>
<span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  â†’ Greeting<span class="token punctuation">.</span>prototype <span class="token comment">// ğŸ•µï¸ æˆ‘ä»¬ä»è¿™å„¿å¼€å§‹</span>
    â†’ React<span class="token punctuation">.</span>Component<span class="token punctuation">.</span>prototype <span class="token comment">// âœ… æ‰¾åˆ°äº†ï¼</span>
      â†’ Object<span class="token punctuation">.</span>prototype</code></pre></div>
<p>æ–¹ä¾¿çš„æ˜¯ï¼Œ<code class="language-text">x instanceof Y</code> åšçš„å°±æ˜¯è¿™ç±»æœç´¢ã€‚å®ƒæ²¿ç€ <code class="language-text">x.__proto__</code> é“¾å¯»æ‰¾ <code class="language-text">Y.prototype</code> æ˜¯å¦åœ¨é‚£å„¿ã€‚</p>
<p>é€šå¸¸ï¼Œè¿™è¢«ç”¨æ¥åˆ¤æ–­æŸæ ·ä¸œè¥¿æ˜¯å¦æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting <span class="token keyword">instanceof</span> <span class="token class-name">Greeting</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// greeting (ğŸ•µï¸â€ æˆ‘ä»¬ä»è¿™å„¿å¼€å§‹)</span>
<span class="token comment">//   .__proto__ â†’ Greeting.prototype (âœ… æ‰¾åˆ°äº†ï¼)</span>
<span class="token comment">//     .__proto__ â†’ React.Component.prototype</span>
<span class="token comment">//       .__proto__ â†’ Object.prototype</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting <span class="token keyword">instanceof</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// greeting (ğŸ•µï¸â€ æˆ‘ä»¬ä»è¿™å„¿å¼€å§‹)</span>
<span class="token comment">//   .__proto__ â†’ Greeting.prototype</span>
<span class="token comment">//     .__proto__ â†’ React.Component.prototype (âœ… æ‰¾åˆ°äº†ï¼)</span>
<span class="token comment">//       .__proto__ â†’ Object.prototype</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// greeting (ğŸ•µï¸â€ æˆ‘ä»¬ä»è¿™å„¿å¼€å§‹)</span>
<span class="token comment">//   .__proto__ â†’ Greeting.prototype</span>
<span class="token comment">//     .__proto__ â†’ React.Component.prototype</span>
<span class="token comment">//       .__proto__ â†’ Object.prototype (âœ… æ‰¾åˆ°äº†ï¼)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting <span class="token keyword">instanceof</span> <span class="token class-name">Banana</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// greeting (ğŸ•µï¸â€ æˆ‘ä»¬ä»è¿™å„¿å¼€å§‹)</span>
<span class="token comment">//   .__proto__ â†’ Greeting.prototype</span>
<span class="token comment">//     .__proto__ â†’ React.Component.prototype</span>
<span class="token comment">//       .__proto__ â†’ Object.prototype (ğŸ™…â€ æ²¡æ‰¾åˆ°ï¼)</span></code></pre></div>
<p>ä½†è¿™ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªç±»æ˜¯å¦æ‰©å±•äº†å¦ä¸€ä¸ªç±»è¿˜æ˜¯æœ‰æ•ˆçš„ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Greeting<span class="token punctuation">.</span>prototype <span class="token keyword">instanceof</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// greeting</span>
<span class="token comment">//   .__proto__ â†’ Greeting.prototype (ğŸ•µï¸â€ æˆ‘ä»¬ä»è¿™å„¿å¼€å§‹)</span>
<span class="token comment">//     .__proto__ â†’ React.Component.prototype (âœ… æ‰¾åˆ°äº†ï¼)</span>
<span class="token comment">//       .__proto__ â†’ Object.prototype</span></code></pre></div>
<p>è¿™ç§æ£€æŸ¥æ–¹å¼å°±æ˜¯æˆ‘ä»¬åˆ¤æ–­æŸæ ·ä¸œè¥¿æ˜¯ä¸€ä¸ª React ç»„ä»¶ç±»è¿˜æ˜¯ä¸€ä¸ªå¸¸è§„å‡½æ•°çš„æ–¹å¼ã€‚</p>
<hr>
<p>ç„¶è€Œ React å¹¶ä¸æ˜¯è¿™ä¹ˆåšçš„ã€‚ ğŸ˜³</p>
<p>å…³äº <code class="language-text">instanceof</code> è§£å†³æ–¹æ¡ˆæœ‰ä¸€ç‚¹é™„åŠ è¯´æ˜ï¼Œå½“é¡µé¢ä¸Šæœ‰å¤šä¸ª React å‰¯æœ¬ï¼Œå¹¶ä¸”æˆ‘ä»¬è¦æ£€æŸ¥çš„ç»„ä»¶ç»§æ‰¿è‡ª <strong>å¦ä¸€ä¸ª</strong> React å‰¯æœ¬çš„ <code class="language-text">React.Component</code> æ—¶ï¼Œè¿™ç§æ–¹æ³•æ˜¯æ— æ•ˆçš„ã€‚åœ¨ä¸€ä¸ªé¡¹ç›®é‡Œæ··åˆå¤šä¸ª React å‰¯æœ¬æ˜¯ä¸å¥½çš„ï¼ŒåŸå› æœ‰å¾ˆå¤šï¼Œä½†ç«™åœ¨å†å²è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬è¯•å›¾å°½å¯èƒ½é¿å…é—®é¢˜ã€‚ï¼ˆæœ‰äº† Hooksï¼Œæˆ‘ä»¬<a href="https://github.com/facebook/react/issues/13991" target="_blank" rel="nofollow noopener noreferrer">æˆ–è®¸å¾—</a>å¼ºåˆ¶é¿å…é‡å¤ã€‚ï¼‰</p>
<p>å¦ä¸€ç‚¹å¯å‘å¯ä»¥æ˜¯å»æ£€æŸ¥åŸå‹é“¾ä¸Šçš„ <code class="language-text">render</code> æ–¹æ³•ã€‚ç„¶è€Œï¼Œå½“æ—¶è¿˜<a href="https://github.com/facebook/react/issues/4599#issuecomment-129714112" target="_blank" rel="nofollow noopener noreferrer">ä¸ç¡®å®š</a>ç»„ä»¶çš„ API ä¼šå¦‚ä½•æ¼”åŒ–ã€‚æ¯ä¸€æ¬¡æ£€æŸ¥éƒ½æœ‰æˆæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æƒ³å†å¤šåŠ äº†ã€‚å¦‚æœ <code class="language-text">render</code> è¢«å®šä¹‰ä¸ºä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨ç±»å±æ€§è¯­æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿä¼šå¤±æ•ˆã€‚</p>
<p>å› æ­¤, React ä¸ºåŸºç±»<a href="https://github.com/facebook/react/pull/4663" target="_blank" rel="nofollow noopener noreferrer">å¢åŠ äº†</a>ä¸€ä¸ªç‰¹åˆ«çš„æ ‡è®°ã€‚React æ£€æŸ¥æ˜¯å¦æœ‰è¿™ä¸ªæ ‡è®°ï¼Œä»¥æ­¤çŸ¥é“æŸæ ·ä¸œè¥¿æ˜¯å¦æ˜¯ä¸€ä¸ª React ç»„ä»¶ç±»ã€‚</p>
<p>æœ€åˆè¿™ä¸ªæ ‡è®°æ˜¯åœ¨ <code class="language-text">React.Component</code> è¿™ä¸ªåŸºç±»è‡ªå·±èº«ä¸Šï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// React å†…éƒ¨</span>
<span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Component<span class="token punctuation">.</span>isReactClass <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æ£€æŸ¥å®ƒ</span>
<span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Greeting<span class="token punctuation">.</span>isReactClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… æ˜¯çš„</span></code></pre></div>
<p>ç„¶è€Œï¼Œæœ‰äº›æˆ‘ä»¬å¸Œæœ›ä½œä¸ºç›®æ ‡çš„ç±»å®ç°<a href="https://github.com/scala-js/scala-js/issues/1900" target="_blank" rel="nofollow noopener noreferrer">å¹¶æ²¡æœ‰</a>å¤åˆ¶é™æ€å±æ€§ï¼ˆæˆ–è®¾ç½®éæ ‡å‡†çš„ <code class="language-text">__proto__</code>ï¼‰ï¼Œæ ‡è®°ä¹Ÿå› æ­¤ä¸¢å¤±ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ React æŠŠè¿™ä¸ªæ ‡è®°<a href="https://github.com/facebook/react/pull/5021" target="_blank" rel="nofollow noopener noreferrer">ç§»åŠ¨åˆ°äº†</a> <code class="language-text">React.Component.prototype</code>ï¼š</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// React å†…éƒ¨</span>
<span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Component<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>isReactComponent <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æ£€æŸ¥å®ƒ</span>
<span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Greeting<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>isReactComponent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… æ˜¯çš„</span></code></pre></div>
<p><strong>è¯´çœŸçš„è¿™å°±æ˜¯å…¨éƒ¨äº†ã€‚</strong></p>
<p>ä½ æˆ–è®¸å¥‡æ€ªä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å®æˆ˜ä¸­è¿™å¹¶ä¸é‡è¦ï¼Œä½†æ—©æœŸç‰ˆæœ¬çš„ Jestï¼ˆåœ¨ Jest å•†å“åŒ–ä¹‹å‰ï¼‰æ˜¯é»˜è®¤å¼€å§‹è‡ªåŠ¨æ¨¡æ‹ŸåŠŸèƒ½çš„ï¼Œç”Ÿæˆçš„æ¨¡æ‹Ÿæ•°æ®çœç•¥æ‰äº†åŸå§‹ç±»å‹å±æ€§ï¼Œ<a href="https://github.com/facebook/react/pull/4663#issuecomment-136533373" target="_blank" rel="nofollow noopener noreferrer">ç ´åäº†æ£€æŸ¥</a>ã€‚è°¢äº†ï¼ŒJestã€‚</p>
<p>ä¸€ç›´åˆ°ä»Šå¤©ï¼Œ<a href="https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/react-reconciler/src/ReactFiber.js#L297-L300" target="_blank" rel="nofollow noopener noreferrer">React éƒ½åœ¨ç”¨</a> <code class="language-text">isReactComponent</code> è¿›è¡Œæ£€æŸ¥ã€‚</p>
<p>å¦‚æœä½ ä¸æ‰©å±• <code class="language-text">React.Component</code>ï¼ŒReact ä¸ä¼šåœ¨åŸå‹ä¸Šæ‰¾åˆ° <code class="language-text">isReactComponent</code>ï¼Œå› æ­¤å°±ä¸ä¼šæŠŠç»„ä»¶å½“åšç±»å¤„ç†ã€‚ç°åœ¨ä½ çŸ¥é“ä¸ºä»€ä¹ˆè§£å†³ <code class="language-text">Cannot call a class as a function</code> é”™è¯¯çš„<a href="https://stackoverflow.com/a/42680526/458193" target="_blank" rel="nofollow noopener noreferrer">å¾—ç¥¨æ•°æœ€é«˜çš„ç­”æ¡ˆ</a>æ˜¯å¢åŠ  <code class="language-text">extends React.Component</code>ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜<a href="https://github.com/facebook/react/pull/11168" target="_blank" rel="nofollow noopener noreferrer">å¢åŠ äº†ä¸€é¡¹è­¦å‘Š</a>ï¼Œå½“ <code class="language-text">prototype.render</code> å­˜åœ¨ä½† <code class="language-text">prototype.isReactComponent</code> ä¸å­˜åœ¨æ—¶ä¼šå‘å‡ºè­¦å‘Šã€‚</p>
<hr>
<p>ä½ æˆ–è®¸ä¼šè§‰å¾—è¿™ä¸ªæ•…äº‹æœ‰ä¸€ç‚¹ã€Œæ ‡é¢˜å…šã€ã€‚ <strong>å®é™…çš„è§£å†³æ–¹æ¡ˆå…¶å®çœŸçš„å¾ˆç®€å•ï¼Œä½†æˆ‘èŠ±äº†å¤§é‡çš„ç¯‡å¹…åœ¨è½¬æŠ˜ä¸Šæ¥è§£é‡Šä¸ºä»€ä¹ˆ React æœ€ç»ˆé€‰æ‹©äº†è¿™å¥—æ–¹æ¡ˆï¼Œä»¥åŠè¿˜æœ‰å“ªäº›å€™é€‰æ–¹æ¡ˆã€‚</strong></p>
<p>ä»¥æˆ‘çš„ç»éªŒæ¥çœ‹ï¼Œè®¾è®¡ä¸€ä¸ªåº“çš„ API ä¹Ÿç»å¸¸ä¼šé‡åˆ°è¿™ç§æƒ…å†µã€‚ä¸ºäº†ä¸€ä¸ª API èƒ½å¤Ÿç®€å•æ˜“ç”¨ï¼Œä½ ç»å¸¸éœ€è¦è€ƒè™‘è¯­ä¹‰åŒ–ï¼ˆå¯èƒ½çš„è¯ï¼Œä¸ºå¤šç§è¯­è¨€è€ƒè™‘ï¼ŒåŒ…æ‹¬æœªæ¥çš„å‘å±•æ–¹å‘ï¼‰ã€è¿è¡Œæ—¶æ€§èƒ½ã€æœ‰æˆ–æ²¡æœ‰ç¼–è¯‘æ—¶æ­¥éª¤çš„å·¥ç¨‹æ•ˆèƒ½ã€ç”Ÿæ€çš„çŠ¶æ€ä»¥åŠæ‰“åŒ…æ–¹æ¡ˆã€æ—©æœŸçš„è­¦å‘Šï¼Œä»¥åŠå¾ˆå¤šå…¶å®ƒé—®é¢˜ã€‚æœ€ç»ˆçš„ç»“æœæœªå¿…æ€»æ˜¯æœ€ä¼˜é›…çš„ï¼Œä½†å¿…é¡»è¦æ˜¯å¯ç”¨çš„ã€‚</p>
<p><strong>å¦‚æœæœ€ç»ˆçš„ API æˆåŠŸçš„è¯ï¼Œ<em>å®ƒçš„ç”¨æˆ·</em> æ°¸è¿œä¸å¿…æ€è€ƒè¿™ä¸€è¿‡ç¨‹</strong>ã€‚ä»–ä»¬åªéœ€è¦ä¸“å¿ƒåˆ›å»ºåº”ç”¨å°±å¥½äº†ã€‚</p>
<p>ä½†å¦‚æœä½ åŒæ—¶ä¹Ÿå¾ˆå¥½å¥‡â€¦çŸ¥é“å®ƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ä¹Ÿæ˜¯æå¥½çš„ã€‚</p></div><footer><p><a href="https://mobile.twitter.com/search?q=https%3A%2F%2Fyusufunlu.github.io%2FPersonal-Blog%2F%2Fhow-does-react-tell-a-class-from-a-function%2F" target="_blank" rel="noopener noreferrer">Discuss on Twitter</a> â€¢ <a href="https://github.com/gaearon/overreacted.io/edit/master/src/pages/how-does-react-tell-a-class-from-a-function/index.zh-hans.md" target="_blank" rel="noopener noreferrer">Edit on GitHub</a></p></footer></article></main><aside><div style="margin:90px 0 40px 0;font-family:system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;,
    &quot;Roboto&quot;, &quot;Oxygen&quot;, &quot;Ubuntu&quot;, &quot;Cantarell&quot;, &quot;Fira Sans&quot;,
    &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif"><form action="https://app.convertkit.com/forms/812047/subscriptions" class="seva-form formkit-form" method="post" min-width="400 500 600 700 800" style="background-color:rgb(255, 255, 255);border-radius:6px"><div data-style="full"><div data-element="column" class="formkit-column" style="background-color:rgb(249, 250, 251)"><h1 class="formkit-header" data-element="header" style="color:rgb(77, 77, 77);font-size:20px;font-weight:700">Join the Newsletter</h1><div data-element="subheader" class="formkit-subheader" style="color:rgb(104, 104, 104)"><p>Subscribe to get my latest content by email.</p></div><div class="formkit-image"><svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" viewBox="0 0 46 46" style="max-width:100%"><g fill="none" fill-rule="evenodd"><path fill="#DD92AB" d="M23,36 C22.813,36 22.627,35.948 22.463,35.844 L0.463,21.844 C0.159,21.651 -0.017,21.308 0.001,20.948 C0.02,20.589 0.23,20.266 0.553,20.105 L23,6 L45.447,20.105 C45.769,20.266 45.98,20.588 45.999,20.948 C46.018,21.308 45.841,21.65 45.537,21.844 L23.537,35.844 C23.373,35.948 23.187,36 23,36 Z"></path><path fill="#FFF" d="M38,37 L8,37 L8,1 C8,0.448 8.448,0 9,0 L37,0 C37.552,0 38,0.448 38,1 L38,37 Z"></path><path fill="#FFA7C4" d="M45,46 C44.916,46 44.831,45.989 44.748,45.968 L21.748,39.968 L22,33 L46,21 L46,45 C46,45.31 45.856,45.602 45.611,45.792 C45.435,45.928 45.219,46 45,46 Z"></path><path fill="#FFC3D7" d="M45,46 L1,46 C0.447,46 0,45.552 0,45 L0,21 L45.479,44.122 C45.88,44.341 46.083,44.804 45.969,45.247 C45.856,45.69 45.457,46 45,46 Z"></path><path fill="#FFA7C4" d="M19 20.414L14.293 15.707C13.902 15.316 13.902 14.684 14.293 14.293L19 9.586 20.414 11 16.414 15 20.414 19 19 20.414zM27 20.414L25.586 19 29.586 15 25.586 11 27 9.586 31.707 14.293C32.098 14.684 32.098 15.316 31.707 15.707L27 20.414z"></path></g></svg></div></div><div data-element="column" class="formkit-column"><ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul><div data-element="fields" class="seva-fields formkit-fields"><div class="formkit-field"><input type="text" class="formkit-input" aria-label="Your first name" name="fields[first_name]" placeholder="Your first name" style="border-color:rgb(227, 227, 227);border-radius:4px;color:rgb(0, 0, 0);font-weight:400"/></div><div class="formkit-field"><input type="email" class="formkit-input" name="email_address" aria-label="Your email address" placeholder="Your email address" style="border-color:rgb(227, 227, 227);border-radius:4px;color:rgb(0, 0, 0);font-weight:400"/></div><button data-element="submit" class="formkit-submit formkit-submit" style="background-color:hsl(340, 63%, 55%);border-radius:24px;color:white;font-weight:700"><div class="formkit-spinner"></div><span>Subscribe</span></button></div><div data-element="guarantee" class="formkit-guarantee" style="color:rgb(77, 77, 77);font-size:13px;font-weight:400"><p>I wonâ€™t send you spam.</p><p>Unsubscribe at <em>any</em> time.</p></div></div></div></form></div><h3 style="font-family:Montserrat, sans-serif;margin-top:0.4375rem"><a style="box-shadow:none;text-decoration:none;color:var(--pink)" href="/Personal-Blog/">Overreacted</a></h3><div style="display:flex;margin-bottom:3.5rem"><img src="/Personal-Blog/static/profile-pic-69c77131fd248a7aaaf26fab021f469f.png" alt="Yusuf Unlu" style="margin-right:0.875rem;margin-bottom:0;height:3.5rem;border-radius:50%"/><p style="max-width:310px">Personal blog by <a href="https://mobile.twitter.com/yufusunlu">Yusuf Unlu</a>.<!-- --> <!-- -->IÂ explain with words and code.</p></div><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li></li><li></li></ul></nav></aside></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-130227707-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"zh-hans-how-does-react-tell-a-class-from-a-function-643","path":"/zh-hans/how-does-react-tell-a-class-from-a-function/"};window.dataPath="26/path---zh-hans-how-does-react-tell-a-class-from-a-function-643-877-i9fNGNLGmy6f3HUq4DB83lZwPlI";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-198cd55e69a6a03b3f73.js"],"component---src-templates-blog-index-js":["/component---src-templates-blog-index-js-1d061c91bf8b4d1ed13d.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.77da55083c18bdb7fbef.css","/component---src-templates-blog-post-js-ef2898a2e81c47683f5b.js"],"component---src-pages-404-js":["/component---src-pages-404-js.fd288bb02445d10643fa.css","/component---src-pages-404-js-b3cd5f330471999955d6.js"],"component---src-pages-confirm-js":["/component---src-pages-confirm-js.fd288bb02445d10643fa.css","/component---src-pages-confirm-js-009d25afd727cbb30f51.js"],"component---src-pages-thanks-js":["/component---src-pages-thanks-js.fd288bb02445d10643fa.css","/component---src-pages-thanks-js-8fa56c06867d62f44f13.js"],"pages-manifest":["/pages-manifest-18d3a7cbac021698c354.js"]};/*]]>*/</script><script src="/Personal-Blog/webpack-runtime-27008a620e3aa4105e10.js" async=""></script><script src="/Personal-Blog/1-1b550cd61a5e170131aa.js" async=""></script><script src="/Personal-Blog/2-469c709c476faea7103a.js" async=""></script><script src="/Personal-Blog/0-b197e8c6c7ff26484233.js" async=""></script><script src="/Personal-Blog/app-198cd55e69a6a03b3f73.js" async=""></script><script src="/Personal-Blog/component---src-templates-blog-post-js-ef2898a2e81c47683f5b.js" async=""></script></body></html>